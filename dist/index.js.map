{"version":3,"sources":["index.coffee"],"names":[],"mappings":"AAAA;AAAA,EAAG,CAAA,SAAA,GAAA;AACD,QAAA,mDAAA;AAAA,IAAA,KAAA,GAAc,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAAd,CAAA;AAAA,IACA,MAAA,GAAc,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CADd,CAAA;AAAA,IAEA,OAAA,GAAc,QAAQ,CAAC,aAAT,CAAuB,SAAvB,CAFd,CAAA;AAAA,IAOA,KAAA,GAAQ,SAAC,IAAD,EAAO,KAAP,GAAA;AACN,UAAA,iBAAA;AAAA,MAAA,GAAA,GAAS,CAAA,IAAA,GAAQ,IAAR,GAAe,IAAf,GAAsB,CAAA,KAA/B,CAAA;AAAA,MACA,MAAA,GACE;AAAA,QAAA,CAAA,EAAM,CAAC,GAAA,GAAM,EAAN,GAAW,EAAZ,EAAgB,IAAhB,CAAN;AAAA,QACA,CAAA,EAAM,CAAC,GAAA,GAAK,EAAN,EAAU,IAAV,CADN;AAAA,QAEA,CAAA,EAAM,CAAC,GAAD,EAAM,GAAN,CAFN;AAAA,QAGA,IAAA,EAAM,IAHN;OAFF,CAAA;AAOA,WAAA,WAAA;sBAAA;AAEE,gBAAO,CAAP;AAAA,eACO,GADP;AAEI,YAAA,MAAM,CAAC,IAAP,GAAc,CAAd,CAFJ;AACO;AADP,eAGO,GAHP;AAII,YAAA,IAAG,CAAE,CAAA,CAAA,CAAF,IAAQ,EAAX;AAAmB,cAAA,MAAM,CAAC,IAAP,GAAc,CAAd,CAAnB;aAJJ;AAGO;AAHP,eAKO,GALP;AAMI,YAAA,IAAG,CAAE,CAAA,CAAA,CAAF,IAAQ,EAAX;AAAmB,cAAA,MAAM,CAAC,IAAP,GAAc,CAAd,CAAnB;aANJ;AAAA,SAAA;AAAA,QAQA,CAAE,CAAA,CAAA,CAAF,GAAO,CAAA,CAAE,CAAE,CAAA,CAAA,CAAE,CAAC,OAAL,CAAa,CAAb,CAAD,CARR,CAFF;AAAA,OAPA;AAmBA,aAAO,MAAP,CApBM;IAAA,CAPR,CAAA;AAAA,IAgCA,SAAA,GAAY,SAAA,GAAA;AACV,UAAA,yBAAA;AAAA,MAAA,OAAA,GAAW,KAAK,CAAC,KAAjB,CAAA;AAAA,MACA,QAAA,GAAW,MAAM,CAAC,KADlB,CAAA;AAGA,MAAA,IAAG,OAAA,IAAY,QAAf;AACE,QAAA,MAAA,GAAS,KAAA,CAAM,OAAN,EAAe,QAAf,CAAT,CAAA;eACA,OAAO,CAAC,SAAR,GAAqB,OAAA,GAAO,MAAM,CAAC,IAAK,CAAA,CAAA,CAAnB,GAAwB,MAAM,CAAC,IAAK,CAAA,CAAA,EAF3D;OAAA,MAAA;eAIE,OAAO,CAAC,SAAR,GAAoB,SAJtB;OAJU;IAAA,CAhCZ,CAAA;AAAA,IA2CA,KAAK,CAAC,gBAAN,CAAuB,OAAvB,EAAgC,SAAhC,EAA2C,KAA3C,CA3CA,CAAA;AAAA,IA4CA,MAAM,CAAC,gBAAP,CAAwB,OAAxB,EAAiC,SAAjC,EAA4C,KAA5C,CA5CA,CAAA;AAAA,IAgDA,SAAA,GAAY,SAAA,GAAA;AACV,UAAA,cAAA;AAAA,MAAA,SAAA,GAAgB,IAAA,IAAA,CAAA,CAAhB,CAAA;AAAA,MACA,GAAA,GAAU,IAAA,KAAA,CAAA,CADV,CAAA;AAAA,MAEA,GAAG,CAAC,GAAJ,GAAW,mEAAA,GAAkE,CAAC,IAAI,CAAC,GAAL,CAAA,CAAD,CAF7E,CAAA;aAIA,GAAG,CAAC,MAAJ,GAAa,SAAA,GAAA;AACX,YAAA,yBAAA;AAAA,QAAA,IAAA,GAAU,EAAA,GAAK,IAAf,CAAA;AAAA,QACA,OAAA,GAAc,IAAA,IAAA,CAAA,CADd,CAAA;eAEA,UAAA,GAAa,OAAA,GAAU,UAHZ;MAAA,EALH;IAAA,CAhDZ,CAAA;WA6DA,SAAA,CAAA,EA9DC;EAAA,CAAA,CAAH,CAAA,CAAA,CAAA;AAAA","file":"index.js","sourceRoot":"/source/","sourcesContent":["do ->\n  $size       = document.querySelector '#size'\n  $speed      = document.querySelector '#speed'\n  $result     = document.querySelector '#result'\n\n\n  # 下载时间计算\n  #\n  count = (size, speed) ->\n    sec    = +size * 1024 * 1024 / +speed\n    result =\n      h   : [sec / 60 / 60, '小时']\n      m   : [sec/ 60, '分钟']\n      s   : [sec, '秒']\n      desc: null\n\n    for i, v of result\n      # 保存最适合显示的值\n      switch i\n        when 'h'\n          result.desc = v\n        when 'm'\n          if v[0] <= 60 then result.desc = v\n        when 's'\n          if v[0] <= 60 then result.desc = v\n\n      v[0] = +(v[0].toFixed(2))\n\n    return result\n\n\n  # 显示结果\n  #\n  showCount = ->\n    sizeVal  = $size.value\n    speedVal = $speed.value\n\n    if sizeVal and speedVal\n      result = count sizeVal, speedVal\n      $result.innerText = \"大概需时：#{result.desc[0]}#{result.desc[1]}\"\n    else\n      $result.innerText = '等待计算..'\n\n\n  $size.addEventListener 'keyup', showCount, false\n  $speed.addEventListener 'keyup', showCount, false\n\n\n\n  testSpeed = ->\n    startTime = new Date()\n    img = new Image()\n    img.src = \"http://su.bdimg.com/static/superplus/img/logo_white_ee663702.png?#{Date.now()}\"\n\n    img.onload = ->\n      size    = 14 * 1024\n      endTime = new Date()\n      resultTime = endTime - startTime\n\n\n\n\n  testSpeed()\n\n"]}